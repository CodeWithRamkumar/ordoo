<ion-content class="forgot-password-content">
  <div class="forgot-password-wrapper">
    <div class="form-container">
      <div class="logo-section">
        <div class="logo-circle">
          <img src="assets/icon/ordoo-logo.svg" alt="Ordoo Logo" class="logo-icon">
        </div>
        <h1 class="app-title">Ordoo</h1>
      </div>

      <h2 class="form-title">Forgot Password?</h2>
      @if (!emailSent) {
        <p class="form-subtitle">Enter your email address and we'll send you a link to reset your password</p>
      }
      
      <!-- Success Message -->
      @if (emailSent) {
      <div class="success-message">
        <div class="success-icon-wrapper">
          <ion-icon name="checkmark-circle" class="success-icon"></ion-icon>
        </div>
        <h3 class="success-title">Check Your Email</h3>
        <p class="success-text">We've sent a password reset link to</p>
        <p class="email-address">{{ forgotPasswordForm.value.email }}</p>
        <p class="success-note">Please check your inbox and follow the instructions to reset your password.</p>
      </div>
      }

      @if (!emailSent) {
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
        <ion-item [class.error-item]="emailNotFound || forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
          <ion-icon name="mail-outline" class="floating-icon-left"></ion-icon>
          <ion-input class="common-input common-input-design-with-icon-left" formControlName="email" 
            labelPlacement="floating" type="email" label="Email address" fill="outline" 
            placeholder="Enter your email" mode="md" 
            [class.ion-invalid]="emailNotFound || forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched"
            [class.ion-touched]="emailNotFound || forgotPasswordForm.get('email')?.touched"
            [errorText]="emailNotFound ? 'Email not found' : 'Please enter a valid email'"
            (ionInput)="clearEmailError()">
          </ion-input>
        </ion-item>

        <ion-button class="btn-primary" mode="md" expand="block" type="submit" [disabled]="forgotPasswordForm.invalid">
          Send Reset Link
        </ion-button>
      </form>
      }

      <div class="back-to-login">
        <ion-text class="back-link" (click)="navigateToLogin()">
          <ion-icon name="arrow-back-outline"></ion-icon>
          Back to Login
        </ion-text>
      </div>
    </div>
  </div>
</ion-content>

import{a as A}from"./chunk-YZ7OZVHI.js";import{a as Y}from"./chunk-DRB3S4YK.js";import{$ as n,$a as M,A as w,Bb as L,Dc as W,Fb as V,Ha as k,Ib as B,J as c,La as y,M as m,O as b,Qb as G,U as u,V as f,Xa as P,Xb as R,Ya as E,Yb as D,Z as v,Za as O,_ as e,aa as d,ab as I,ac as q,bb as z,cc as H,ea as F,fa as h,fb as N,ga as g,hb as T,ib as j,kc as U,pa as _,ra as a,sa as S,z as x}from"./chunk-DINEKAUJ.js";import"./chunk-GAQMLLH7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-GV7ROTFX.js";import"./chunk-WP3PW2FM.js";import"./chunk-RAIJBZAF.js";import"./chunk-TL5KAYV2.js";import"./chunk-5DK6WUVE.js";import"./chunk-N6MIILRQ.js";import"./chunk-VHD5V3JE.js";import"./chunk-3COQWRSL.js";import"./chunk-HGIQAHIR.js";import"./chunk-EPAF7B2K.js";import"./chunk-CU2LIOPH.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-EQDF3Z2M.js";import"./chunk-CKP3SGE2.js";import"./chunk-SUU46OAF.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{i as p}from"./chunk-VBFW7A5V.js";function J(r,s){r&1&&(e(0,"p",8),a(1,"Enter your email address and we'll send you a link to reset your password"),n())}function K(r,s){if(r&1&&(e(0,"div",9)(1,"div",14),d(2,"ion-icon",15),n(),e(3,"h3",16),a(4,"Check Your Email"),n(),e(5,"p",17),a(6,"We've sent a password reset link to"),n(),e(7,"p",18),a(8),n(),e(9,"p",19),a(10,"Please check your inbox and follow the instructions to reset your password."),n()()),r&2){let l=g();c(8),S(l.forgotPasswordForm.value.email)}}function Q(r,s){if(r&1){let l=F();e(0,"form",20),h("ngSubmit",function(){x(l);let i=g();return w(i.onSubmit())}),e(1,"ion-item"),d(2,"ion-icon",21),e(3,"ion-input",22),h("ionInput",function(){x(l);let i=g();return w(i.clearEmailError())}),n()(),e(4,"ion-button",23),a(5," Send Reset Link "),n()()}if(r&2){let l,o,i,t=g();v("formGroup",t.forgotPasswordForm),c(),_("error-item",t.emailNotFound||((l=t.forgotPasswordForm.get("email"))==null?null:l.invalid)&&((l=t.forgotPasswordForm.get("email"))==null?null:l.touched)),c(2),_("ion-invalid",t.emailNotFound||((o=t.forgotPasswordForm.get("email"))==null?null:o.invalid)&&((o=t.forgotPasswordForm.get("email"))==null?null:o.touched))("ion-touched",t.emailNotFound||((i=t.forgotPasswordForm.get("email"))==null?null:i.touched)),v("errorText",t.emailNotFound?"Email not found":"Please enter a valid email"),c(),v("disabled",t.forgotPasswordForm.invalid)}}var ct=(()=>{let s=class s{constructor(o,i,t,C,$){this.fb=o,this.navCtrl=i,this.http=t,this.config=C,this.loader=$,this.emailNotFound=!1,this.emailSent=!1,q({mailOutline:W,arrowBackOutline:H,checkmarkCircle:U}),this.forgotPasswordForm=this.fb.group({email:["",[P.required,P.email]]})}ngOnInit(){}onSubmit(){return p(this,null,function*(){this.emailNotFound=!1,this.forgotPasswordForm.valid&&(yield this.loader.show("Sending reset link..."),this.http.post(`${this.config.API_BASE_URL}/auth/forgot-password`,{email:this.forgotPasswordForm.value.email}).subscribe({next:o=>p(this,null,function*(){yield this.loader.hide(),this.emailSent=!0}),error:o=>p(this,null,function*(){yield this.loader.hide(),o.status===404&&(this.emailNotFound=!0,this.forgotPasswordForm.get("email")?.setErrors({serverError:!0}))})}))})}clearEmailError(){this.emailNotFound&&(this.emailNotFound=!1,this.forgotPasswordForm.get("email")?.setErrors(null))}navigateToLogin(){this.navCtrl.navigateRoot("/auth/login")}};s.\u0275fac=function(i){return new(i||s)(m(N),m(j),m(y),m(A),m(Y))},s.\u0275cmp=b({type:s,selectors:[["app-forgot-password"]],decls:17,vars:3,consts:[[1,"forgot-password-content"],[1,"forgot-password-wrapper"],[1,"form-container"],[1,"logo-section"],[1,"logo-circle"],["src","assets/icon/ordoo-logo.svg","alt","Ordoo Logo",1,"logo-icon"],[1,"app-title"],[1,"form-title"],[1,"form-subtitle"],[1,"success-message"],[1,"forgot-password-form",3,"formGroup"],[1,"back-to-login"],[1,"back-link",3,"click"],["name","arrow-back-outline"],[1,"success-icon-wrapper"],["name","checkmark-circle",1,"success-icon"],[1,"success-title"],[1,"success-text"],[1,"email-address"],[1,"success-note"],[1,"forgot-password-form",3,"ngSubmit","formGroup"],["name","mail-outline",1,"floating-icon-left"],["formControlName","email","labelPlacement","floating","type","email","label","Email address","fill","outline","placeholder","Enter your email","mode","md",1,"common-input","common-input-design-with-icon-left",3,"ionInput","errorText"],["mode","md","expand","block","type","submit",1,"btn-primary",3,"disabled"]],template:function(i,t){i&1&&(e(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),n(),e(6,"h1",6),a(7,"Ordoo"),n()(),e(8,"h2",7),a(9,"Forgot Password?"),n(),u(10,J,2,0,"p",8),u(11,K,11,1,"div",9),u(12,Q,6,9,"form",10),e(13,"div",11)(14,"ion-text",12),h("click",function(){return t.navigateToLogin()}),d(15,"ion-icon",13),a(16," Back to Login "),n()()()()()),i&2&&(c(10),f(t.emailSent?-1:10),c(),f(t.emailSent?11:-1),c(),f(t.emailSent?-1:12))},dependencies:[V,L,D,B,R,G,k,T,M,E,O,I,z],styles:[".forgot-password-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:var(--spacing-lg)}.form-container[_ngcontent-%COMP%]{max-width:400px;width:100%}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-xl)}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:var(--ion-white-color-background);border-radius:var(--border-radius-lg);display:flex;align-items:center;justify-content:center;margin:0 auto var(--spacing-md);box-shadow:0 4px 16px rgba(var(--ion-color-primary-rgb),.3)}.logo-icon[_ngcontent-%COMP%]{width:50px;height:50px}.app-title[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);margin:0}.form-title[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);margin:0 0 var(--spacing-xs);text-align:center}.form-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0 0 var(--spacing-xl);font-size:var(--font-size-base);text-align:center}.forgot-password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-lg)}.floating-icon-left[_ngcontent-%COMP%]{position:absolute;top:18px;inset-inline-start:12px;z-index:999;color:var(--ion-text-color)}.back-to-login[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-xl)}.back-link[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:var(--font-size-md);cursor:pointer;text-decoration:none;font-weight:var(--font-weight-medium);display:flex;align-items:center;justify-content:center;gap:var(--spacing-xs)}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.success-message[_ngcontent-%COMP%]{text-align:center;padding:var(--spacing-xl) 0}.success-icon-wrapper[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.success-icon[_ngcontent-%COMP%]{font-size:64px;color:var(--ion-color-success)}.success-title[_ngcontent-%COMP%]{font-size:var(--font-size-3xl);font-weight:var(--font-weight-bold);margin:0 0 var(--spacing-md);color:var(--ion-text-color)}.success-text[_ngcontent-%COMP%]{font-size:var(--font-size-base);color:var(--ion-color-medium);margin:0 0 var(--spacing-xs)}.email-address[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--ion-color-primary);margin:0 0 var(--spacing-md);word-break:break-all}.success-note[_ngcontent-%COMP%]{font-size:var(--font-size-sm);color:var(--ion-color-medium);margin:0;line-height:1.5}"]});let r=s;return r})();export{ct as ForgotPasswordPage};

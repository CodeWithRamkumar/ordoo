import{a as re}from"./chunk-QGMUHWEI.js";import"./chunk-LBUMAOD3.js";import{b as Y}from"./chunk-GFY2EP7B.js";import{a as B}from"./chunk-WSADDI35.js";import{a as oe}from"./chunk-NYUSVKWZ.js";import{$ as t,Ac as Z,Bc as $,Cb as D,Cc as ee,Dc as ne,Ec as ie,Gb as L,Ha as k,Ic as te,J as a,Jb as V,La as E,M as g,O as F,Rb as U,Xb as q,Ya as _,Yb as H,Z as m,Za as I,Zb as R,_ as i,_a as T,aa as l,ab as z,bb as j,bc as J,cb as W,fa as s,gb as A,ib as G,jb as N,pa as p,qc as K,ra as c,rc as Q,yc as X}from"./chunk-QSMVICUT.js";import"./chunk-GAQMLLH7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-GV7ROTFX.js";import"./chunk-WP3PW2FM.js";import"./chunk-RAIJBZAF.js";import"./chunk-TL5KAYV2.js";import"./chunk-5DK6WUVE.js";import"./chunk-N6MIILRQ.js";import"./chunk-VHD5V3JE.js";import"./chunk-3COQWRSL.js";import"./chunk-HGIQAHIR.js";import"./chunk-EPAF7B2K.js";import"./chunk-CU2LIOPH.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-EQDF3Z2M.js";import"./chunk-CKP3SGE2.js";import"./chunk-SUU46OAF.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as M,b as O,i as v}from"./chunk-VBFW7A5V.js";var we=(()=>{let d=class d{constructor(n,o,e,r,u,w,h,f){this.fb=n,this.navCtrl=o,this.http=e,this.authService=r,this.config=u,this.loader=w,this.firebaseSso=h,this.toastController=f,this.showPassword=!1,this.showConfirmPassword=!1,this.emailExists=!1,J({eyeOutline:Q,eyeOffOutline:K,mailOutline:ie,lockClosedOutline:X,personOutline:te,logoGoogle:ee,logoFacebook:$,logoApple:Z,logoTwitter:ne}),this.signupForm=this.fb.group({email:["",[_.required,_.email]],password:["",[_.required,_.minLength(6)]],confirmPassword:["",[_.required]]},{validators:this.passwordMatchValidator})}ngOnInit(){}passwordMatchValidator(n){let o=n.get("password"),e=n.get("confirmPassword");return o&&e&&o.value&&e.value&&o.value!==e.value?(e.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(e?.hasError("passwordMismatch")&&e.setErrors(null),null)}togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}onSignup(n){return v(this,null,function*(){console.log("onSignup called",{ssoData:n,formValid:this.signupForm.valid,formValue:this.signupForm.value}),this.emailExists=!1;let o;if(n)o=O(M({},n),{isSso:!0});else{if(!this.signupForm.valid){console.log("Form is invalid:",this.signupForm.errors);return}o={email:this.signupForm.value.email,password:this.signupForm.value.password}}console.log("Making API call to:",this.config.AUTH.SIGNUP,"with data:",o);try{let e=yield this.http.post(this.config.AUTH.SIGNUP,o).toPromise();console.log("Signup success:",e),this.navCtrl.navigateRoot("/auth/profile-setup")}catch(e){console.log("Signup error:",e)}})}navigateToLogin(){this.navCtrl.navigateRoot("/auth/login")}signupWithGoogle(){return v(this,null,function*(){try{let n=yield this.firebaseSso.signInWithGoogle();yield this.onSignup(n)}catch(n){console.error("Google signup error:",n)}})}signupWithFacebook(){return v(this,null,function*(){try{let n=yield this.firebaseSso.signInWithFacebook();yield this.onSignup(n)}catch(n){console.error("Facebook signup error:",n)}})}signupWithApple(){return v(this,null,function*(){try{let n=yield this.firebaseSso.signInWithApple();yield this.onSignup(n)}catch(n){console.error("Apple signup error:",n)}})}signupWithTwitter(){return v(this,null,function*(){try{let n=yield this.firebaseSso.signInWithTwitter();yield this.onSignup(n)}catch(n){console.error("Twitter signup error:",n)}})}clearEmailError(){this.emailExists&&(this.emailExists=!1,this.signupForm.get("email")?.setErrors(null))}};d.\u0275fac=function(o){return new(o||d)(g(A),g(N),g(E),g(Y),g(B),g(oe),g(re),g(q))},d.\u0275cmp=F({type:d,selectors:[["app-signup"]],decls:53,vars:27,consts:[[1,"signup-content",3,"scrollY"],[1,"signup-wrapper"],[1,"left-section"],[1,"brand-container"],["src","assets/icon/ordoo-logo.svg","alt","Ordoo Logo",1,"brand-logo"],[1,"brand-title"],[1,"brand-text"],[1,"right-section"],[1,"scrollable-content"],[1,"form-container"],[1,"logo-section"],[1,"logo-circle"],["src","assets/icon/ordoo-logo.svg","alt","Ordoo Logo",1,"logo-icon"],[1,"app-title"],[1,"form-title"],[1,"form-subtitle"],[1,"signup-form",3,"ngSubmit","formGroup"],["name","mail-outline",1,"signup-floating-icons-left"],["formControlName","email","labelPlacement","floating","type","email","label","Email address","fill","outline","placeholder","Enter email","mode","md",1,"common-input","common-input-design-with-icon-left",3,"ionInput","errorText"],["name","lock-closed-outline",1,"signup-floating-icons-left"],["labelPlacement","floating","formControlName","password","label","Password","fill","outline","mode","md","placeholder","Enter password","errorText","Password must be at least 6 characters",1,"common-input","common-input-design-with-icon-left-and-right",3,"type"],[1,"signup-floating-icons-right",3,"click","name"],["labelPlacement","floating","formControlName","confirmPassword","label","Confirm Password","fill","outline","mode","md","placeholder","Confirm password",1,"common-input","common-input-design-with-icon-left-and-right",3,"type","errorText"],["mode","md","expand","block","type","submit",1,"btn-primary",3,"disabled"],[1,"alternative-signup"],[1,"divider"],[1,"divider-text"],[1,"sso-buttons"],["mode","md","fill","outline",1,"sso-icon-button",3,"click"],["name","logo-google"],["name","logo-facebook"],["name","logo-apple"],["name","logo-twitter"],[1,"login-section"],[1,"login-text"],[1,"login-link",3,"click"]],template:function(o,e){if(o&1&&(i(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),l(4,"img",4),i(5,"h2",5),c(6,"Join Ordoo Today"),t(),i(7,"p",6),c(8,"Create your account and start organizing your world"),t()()(),i(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),l(14,"img",12),t(),i(15,"h1",13),c(16,"Ordoo"),t()(),i(17,"h2",14),c(18,"Create Account"),t(),i(19,"p",15),c(20,"Please fill in your details to sign up"),t(),i(21,"form",16),s("ngSubmit",function(){return e.onSignup()}),i(22,"ion-item"),l(23,"ion-icon",17),i(24,"ion-input",18),s("ionInput",function(){return e.clearEmailError()}),t()(),i(25,"ion-item"),l(26,"ion-icon",19)(27,"ion-input",20),i(28,"ion-icon",21),s("click",function(){return e.togglePassword()}),t()(),i(29,"ion-item"),l(30,"ion-icon",19)(31,"ion-input",22),i(32,"ion-icon",21),s("click",function(){return e.toggleConfirmPassword()}),t()(),i(33,"ion-button",23),c(34," Sign Up "),t()(),i(35,"div",24)(36,"div",25)(37,"span",26),c(38,"or"),t()(),i(39,"div",27)(40,"ion-button",28),s("click",function(){return e.signupWithGoogle()}),l(41,"ion-icon",29),t(),i(42,"ion-button",28),s("click",function(){return e.signupWithFacebook()}),l(43,"ion-icon",30),t(),i(44,"ion-button",28),s("click",function(){return e.signupWithApple()}),l(45,"ion-icon",31),t(),i(46,"ion-button",28),s("click",function(){return e.signupWithTwitter()}),l(47,"ion-icon",32),t()()(),i(48,"div",33)(49,"p",34),c(50," Already have an account? "),i(51,"ion-text",35),s("click",function(){return e.navigateToLogin()}),c(52," Sign In "),t()()()()()()()()),o&2){let r,u,w,h,f,x,P,b,S,y;m("scrollY",!1),a(21),m("formGroup",e.signupForm),a(),p("error-item",e.emailExists||((r=e.signupForm.get("email"))==null?null:r.invalid)&&((r=e.signupForm.get("email"))==null?null:r.touched)),a(2),p("ion-invalid",e.emailExists||((u=e.signupForm.get("email"))==null?null:u.invalid)&&((u=e.signupForm.get("email"))==null?null:u.touched))("ion-touched",e.emailExists||((w=e.signupForm.get("email"))==null?null:w.touched)),m("errorText",e.emailExists?"Email already exists":"Please enter a valid email"),a(),p("error-item",((h=e.signupForm.get("password"))==null?null:h.invalid)&&((h=e.signupForm.get("password"))==null?null:h.touched)),a(2),p("ion-invalid",((f=e.signupForm.get("password"))==null?null:f.invalid)&&((f=e.signupForm.get("password"))==null?null:f.touched))("ion-touched",(x=e.signupForm.get("password"))==null?null:x.touched),m("type",e.showPassword?"text":"password"),a(),m("name",e.showPassword?"eye-off-outline":"eye-outline"),a(),p("error-item",((P=e.signupForm.get("confirmPassword"))==null?null:P.invalid)&&((P=e.signupForm.get("confirmPassword"))==null?null:P.touched)),a(2),p("ion-invalid",((b=e.signupForm.get("confirmPassword"))==null?null:b.invalid)&&((b=e.signupForm.get("confirmPassword"))==null?null:b.touched))("ion-touched",(S=e.signupForm.get("confirmPassword"))==null?null:S.touched),m("type",e.showConfirmPassword?"text":"password")("errorText",(y=e.signupForm.get("confirmPassword"))!=null&&y.hasError("passwordMismatch")?"Passwords must match":"Please confirm your password"),a(),m("name",e.showConfirmPassword?"eye-off-outline":"eye-outline"),a(),m("disabled",e.signupForm.invalid)}},dependencies:[L,D,R,V,H,U,k,G,z,I,T,j,W],styles:['.signup-wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh}.left-section[_ngcontent-%COMP%]{flex:1;background:var(--ion-color-primary);display:flex;align-items:center;justify-content:center;padding:var(--spacing-2xl);min-height:100vh}@media (max-width: 1024px){.left-section[_ngcontent-%COMP%]{display:none}}.brand-container[_ngcontent-%COMP%]{text-align:center;max-width:400px}.brand-logo[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:var(--spacing-xl);background:var(--ion-white-color-background);border-radius:var(--border-radius-xl);padding:var(--spacing-md);box-shadow:0 8px 32px #0000001a}.brand-title[_ngcontent-%COMP%]{font-size:var(--font-size-11xl);font-weight:var(--font-weight-bold);color:var(--ion-white-color-text);margin:0 0 var(--spacing-md)}.brand-text[_ngcontent-%COMP%]{font-size:var(--font-size-xl);color:var(--ion-white-color-text);margin:0}.right-section[_ngcontent-%COMP%]{flex:1;display:flex;height:100vh;overflow:hidden}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--spacing-lg);min-height:0}.form-container[_ngcontent-%COMP%]{max-width:400px;width:100%;margin:0 auto;min-height:calc(100vh - 2 * var(--spacing-lg));display:flex;flex-direction:column;justify-content:center}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-md);display:block}@media (min-width: 1024px){.logo-section[_ngcontent-%COMP%]{display:none}}.logo-circle[_ngcontent-%COMP%]{width:60px;height:60px;background:var(--ion-white-color-background);border-radius:var(--border-radius-lg);display:flex;align-items:center;justify-content:center;margin:0 auto var(--spacing-md);box-shadow:0 4px 16px #0000001a}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px}.app-title[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);margin:0}.form-title[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);margin:0 0 var(--spacing-xs);text-align:center}.form-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0 0 var(--spacing-xl);font-size:var(--font-size-base);text-align:center}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.error-item[_ngcontent-%COMP%]{--border-color: var(--ion-color-danger) !important;--color: var(--ion-color-danger)}.error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:var(--font-size-sm);margin-top:-8px;margin-bottom:var(--spacing-md);padding-left:var(--spacing-md)}.signup-floating-icons-left[_ngcontent-%COMP%]{position:absolute;top:18px;inset-inline-start:12px;z-index:999;color:var(--ion-text-color)}.signup-floating-icons-right[_ngcontent-%COMP%]{position:absolute;top:18px;inset-inline-end:16px;z-index:999;color:var(--ion-text-color)}.login-section[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-md)}.login-text[_ngcontent-%COMP%]{font-size:var(--font-size-md);margin:0}.login-link[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:var(--font-weight-semibold);cursor:pointer;text-decoration:none}.login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.alternative-signup[_ngcontent-%COMP%]{margin-top:var(--spacing-md)}.alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:var(--spacing-md)}.alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:var(--ion-color-medium)}.alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacing-md);color:var(--ion-color-medium);font-size:var(--font-size-md);white-space:nowrap}.alternative-signup[_ngcontent-%COMP%]   .sso-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--spacing-md)}.alternative-signup[_ngcontent-%COMP%]   .sso-buttons[_ngcontent-%COMP%]   .sso-icon-button[_ngcontent-%COMP%]{width:40px;height:40px;--border-radius: 50%;--border-color: var(--ion-text-color);--border-width: 1px;--color: var(--ion-text-color);--padding-start: 0;--padding-end: 0}.alternative-signup[_ngcontent-%COMP%]   .sso-buttons[_ngcontent-%COMP%]   .sso-icon-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px}']});let C=d;return C})();export{we as SignupPage};

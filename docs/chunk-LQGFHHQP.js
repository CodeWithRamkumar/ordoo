import{a as $}from"./chunk-NMRW5ISR.js";import{$b as P,Aa as h,K as u,L as v,La as M,Oa as d,Pa as m,Rd as R,Uc as I,Xd as E,Y as i,Yd as D,_c as z,ae as F,ca as b,de as j,ea as x,ja as _,ma as w,na as y,qb as O,ra as c,sa as o,ta as a,ua as p,uc as k,vb as C,xd as T,yc as S,za as g}from"./chunk-UC7FKJIZ.js";import"./chunk-TL5KAYV2.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-VBFW7A5V.js";function B(s,r){if(s&1&&(o(0,"div",20)(1,"span",21),d(2),a(),o(3,"span",22),d(4),a()()),s&2){let f=r.$implicit,e=r.index,n=h(2);i(2),m(n.laps.length-e),i(2),m(f)}}function H(s,r){if(s&1&&(o(0,"div",10)(1,"div",18),_(2,B,5,2,"div",19),a()()),s&2){let f=h();i(2),c("ngForOf",f.laps)}}var K=(()=>{let r=class r{constructor(e){this.headerService=e,this.time=0,this.display="00:00:00",this.isRunning=!1,this.laps=[],this.circumference=2*Math.PI*96,this.dashOffset=this.circumference,z({play:E,pause:R,refresh:D,flag:T,timerOutline:j,stopwatch:F})}ngOnInit(){this.headerService.updateHeaderData({title:"Stopwatch",subtitle:"Precise time measurement",image:"stopwatch",imageType:"icon",showBack:!0,showMenu:!0,backNavigationUrl:"/workspace/clock"})}ngOnDestroy(){this.interval&&clearInterval(this.interval)}start(){this.isRunning||(this.isRunning=!0,this.interval=setInterval(()=>{this.time+=10,this.updateDisplay()},10))}stop(){this.isRunning&&(this.isRunning=!1,clearInterval(this.interval))}reset(){this.stop(),this.time=0,this.display="00:00:00",this.laps=[],this.dashOffset=this.circumference}lap(){this.isRunning&&(this.laps.unshift(this.display),setTimeout(()=>{let e=document.querySelector(".laps-scroll");e&&(e.scrollTop=0)},0))}getBestLap(){return this.laps.length===0?"--:--:--":this.laps.reduce((e,n)=>{let t=this.timeToMs(e);return this.timeToMs(n)<t?n:e})}timeToMs(e){let[n,t,l]=e.split(":").map(Number);return n*6e4+t*1e3+l*10}updateDisplay(){let e=Math.floor(this.time/6e4),n=Math.floor(this.time%6e4/1e3),t=Math.floor(this.time%1e3/10);this.display=`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;let l=this.time%1e3/1e3;this.dashOffset=this.circumference*(1-l)}};r.\u0275fac=function(n){return new(n||r)(b($))},r.\u0275cmp=x({type:r,selectors:[["app-stopwatch"]],decls:21,vars:10,consts:[[1,"stopwatch-container"],[1,"stopwatch-inner-container"],[1,"stopwatch"],[1,"timer-circle"],["width","200","height","200",1,"progress-ring"],["stroke","var(--ion-color-light)","stroke-width","4","fill","transparent","r","96","cx","100","cy","100",1,"background-circle"],["stroke","var(--ion-color-primary)","stroke-width","4","fill","transparent","r","96","cx","100","cy","100",1,"progress-ring-circle"],[1,"time-content"],[1,"time-display"],[1,"time-label"],[1,"laps-data"],[1,"floating-buttons"],["color","medium","fill","outline","shape","round",1,"floating-btn","side-btn",3,"click"],["name","refresh"],["fill","outline","shape","round",1,"floating-btn","center-btn",3,"click","color"],[3,"name"],["color","tertiary","fill","outline","shape","round",1,"floating-btn","side-btn",3,"click","disabled"],["name","flag"],[1,"laps-scroll"],["class","lap-row",4,"ngFor","ngForOf"],[1,"lap-row"],[1,"lap-num"],[1,"lap-val"]],template:function(n,t){n&1&&(o(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),u(),o(5,"svg",4),p(6,"circle",5)(7,"circle",6),a(),v(),o(8,"div",7)(9,"div",8),d(10),a(),o(11,"div",9),d(12),a()()(),w(13,H,3,1,"div",10),a(),o(14,"div",11)(15,"ion-button",12),g("click",function(){return t.reset()}),p(16,"ion-icon",13),a(),o(17,"ion-button",14),g("click",function(){return t.isRunning?t.stop():t.start()}),p(18,"ion-icon",15),a(),o(19,"ion-button",16),g("click",function(){return t.lap()}),p(20,"ion-icon",17),a()()()()()),n&2&&(i(7),M("stroke-dasharray",t.circumference)("stroke-dashoffset",t.dashOffset),i(3),m(t.display),i(2),m(t.isRunning?"Running":"Stopped"),i(),y(t.laps.length>0?13:-1),i(4),c("color",t.isRunning?"danger":"success"),i(),c("name",t.isRunning?"pause":"play"),i(),c("disabled",!t.isRunning))},dependencies:[C,O,P,S,k,I],styles:[".stopwatch-container[_ngcontent-%COMP%]{height:100%;align-content:center;overflow:auto;padding:var(--spacing-md)}.stopwatch-inner-container[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;position:relative}.stopwatch[_ngcontent-%COMP%]{max-width:400px;width:100%;background:var(--ion-card-background);border-radius:var(--border-radius-xl);box-shadow:#0000003d 0 3px 8px;padding:var(--spacing-2xl);font-family:var(--ion-font-family);position:relative;display:flex;flex-direction:column;align-items:center;gap:var(--spacing-md);height:500px}.timer-circle[_ngcontent-%COMP%]{width:200px;height:200px;position:relative;display:flex;align-items:center;justify-content:center}.progress-ring[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:rotate(-90deg)}.progress-ring-circle[_ngcontent-%COMP%]{transition:none}.time-content[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1}.time-display[_ngcontent-%COMP%]{color:var(--ion-text-color);font-size:var(--font-size-4xl);font-weight:var(--font-weight-black);line-height:1;font-family:var(--ion-font-family);letter-spacing:-1px}.time-label[_ngcontent-%COMP%]{font-size:var(--font-size-md);font-weight:var(--font-weight-medium);color:var(--ion-color-medium);margin-top:var(--spacing-xs);text-transform:uppercase;letter-spacing:1px}.floating-buttons[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:var(--spacing-md);align-items:center;z-index:10}.floating-btn[_ngcontent-%COMP%]{--border-width: 2px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .1);--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;background:#fffc}.floating-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-xl)}.side-btn[_ngcontent-%COMP%]{width:50px;height:50px;--border-radius: 50%}.center-btn[_ngcontent-%COMP%]{width:60px;height:60px;--border-radius: 50%}.center-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}.laps-data[_ngcontent-%COMP%]{width:100%;margin-top:var(--spacing-lg)}.laps-scroll[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto;padding-right:var(--spacing-xs)}.laps-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.laps-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--ion-color-primary);border-radius:2px}.lap-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-sm) var(--spacing-md);margin-bottom:var(--spacing-xs);background:var(--ion-background-color);border-radius:var(--border-radius-md);border:2px solid var(--ion-color-light)}.lap-num[_ngcontent-%COMP%]{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--ion-color-medium)}.lap-val[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:var(--font-weight-semibold);color:var(--ion-text-color);font-family:var(--ion-font-family)}@media (min-width: 769px){.stopwatch[_ngcontent-%COMP%]{max-width:500px}}"]});let s=r;return s})();export{K as StopwatchPage};

import{dc as F,s as $,v as T}from"./chunk-TS35J3DX.js";import{i as o}from"./chunk-VBFW7A5V.js";var A=(function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r})(A||{}),E=class extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}},W=r=>{var e,t;return r?.androidBridge?"android":!((t=(e=r?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},V=r=>{let e=r.CapacitorCustomPlatform||null,t=r.Capacitor||{},s=t.Plugins=t.Plugins||{},n=()=>e!==null?e.name:W(r),i=()=>n()!=="web",c=a=>{let l=m.get(a);return!!(l?.platforms.has(n())||d(a))},d=a=>{var l;return(l=t.PluginHeaders)===null||l===void 0?void 0:l.find(U=>U.name===a)},h=a=>r.console.error(a),m=new Map,C=(a,l={})=>{let U=m.get(a);if(U)return console.warn(`Capacitor plugin "${a}" already registered. Cannot register plugins twice.`),U.proxy;let v=n(),L=d(a),p,G=()=>o(null,null,function*(){return!p&&v in l?p=typeof l[v]=="function"?p=yield l[v]():p=l[v]:e!==null&&!p&&"web"in l&&(p=typeof l.web=="function"?p=yield l.web():p=l.web),p}),q=(u,f)=>{var w,y;if(L){let b=L?.methods.find(g=>f===g.name);if(b)return b.rtype==="promise"?g=>t.nativePromise(a,f.toString(),g):(g,k)=>t.nativeCallback(a,f.toString(),g,k);if(u)return(w=u[f])===null||w===void 0?void 0:w.bind(u)}else{if(u)return(y=u[f])===null||y===void 0?void 0:y.bind(u);throw new E(`"${a}" plugin is not implemented on ${v}`,A.Unimplemented)}},x=u=>{let f,w=(...y)=>{let b=G().then(g=>{let k=q(g,u);if(k){let O=k(...y);return f=O?.remove,O}else throw new E(`"${a}.${u}()" is not implemented on ${v}`,A.Unimplemented)});return u==="addListener"&&(b.remove=()=>o(null,null,function*(){return f()})),b};return w.toString=()=>`${u.toString()}() { [capacitor code] }`,Object.defineProperty(w,"name",{value:u,writable:!1,configurable:!1}),w},_=x("addListener"),B=x("removeListener"),K=(u,f)=>{let w=_({eventName:u},f),y=()=>o(null,null,function*(){let g=yield w;B({eventName:u,callbackId:g},f)}),b=new Promise(g=>w.then(()=>g({remove:y})));return b.remove=()=>o(null,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield y()}),b},I=new Proxy({},{get(u,f){switch(f){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return L?K:_;case"removeListener":return B;default:return x(f)}}});return s[a]=I,m.set(a,{name:a,proxy:I,platforms:new Set([...Object.keys(l),...L?[v]:[]])}),I};return t.convertFileSrc||(t.convertFileSrc=a=>a),t.getPlatform=n,t.handleError=h,t.isNativePlatform=i,t.isPluginAvailable=c,t.registerPlugin=C,t.Exception=E,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},z=r=>r.Capacitor=V(r),P=z(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),D=P.registerPlugin,j=class{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(t);let i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);let c=()=>o(this,null,function*(){return this.removeListener(e,t)});return Promise.resolve({remove:c})}removeAllListeners(){return o(this,null,function*(){this.listeners={};for(let e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,t,s){let n=this.listeners[e];if(!n){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}return}n.forEach(i=>i(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new P.Exception(e,A.Unimplemented)}unavailable(e="not available"){return new P.Exception(e,A.Unavailable)}removeListener(e,t){return o(this,null,function*(){let s=this.listeners[e];if(!s)return;let n=s.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){let t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(s=>{this.notifyListeners(e,s)}))}};var H=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),M=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),S=class extends j{getCookies(){return o(this,null,function*(){let e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[n,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=M(n).trim(),i=M(i).trim(),t[n]=i}),t})}setCookie(e){return o(this,null,function*(){try{let t=H(e.key),s=H(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${n}; path=${i}; ${c};`}catch(t){return Promise.reject(t)}})}deleteCookie(e){return o(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})}clearCookies(){return o(this,null,function*(){try{let e=document.cookie.split(";")||[];for(let t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return o(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}},N=D("CapacitorCookies",{web:()=>new S}),J=r=>o(null,null,function*(){return new Promise((e,t)=>{let s=new FileReader;s.onload=()=>{let n=s.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>t(n),s.readAsDataURL(r)})}),Q=(r={})=>{let e=Object.keys(r);return Object.keys(r).map(n=>n.toLocaleLowerCase()).reduce((n,i,c)=>(n[i]=r[e[c]],n),{})},X=(r,e=!0)=>r?Object.entries(r).reduce((s,n)=>{let[i,c]=n,d,h;return Array.isArray(c)?(h="",c.forEach(m=>{d=e?encodeURIComponent(m):m,h+=`${i}=${d}&`}),h.slice(0,-1)):(d=e?encodeURIComponent(c):c,h=`${i}=${d}`),`${s}&${h}`},"").substr(1):null,Y=(r,e={})=>{let t=Object.assign({method:r.method||"GET",headers:r.headers},e),n=Q(r.headers)["content-type"]||"";if(typeof r.data=="string")t.body=r.data;else if(n.includes("application/x-www-form-urlencoded")){let i=new URLSearchParams;for(let[c,d]of Object.entries(r.data||{}))i.set(c,d);t.body=i.toString()}else if(n.includes("multipart/form-data")||r.data instanceof FormData){let i=new FormData;if(r.data instanceof FormData)r.data.forEach((d,h)=>{i.append(h,d)});else for(let d of Object.keys(r.data))i.append(d,r.data[d]);t.body=i;let c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(n.includes("application/json")||typeof r.data=="object")&&(t.body=JSON.stringify(r.data));return t},R=class extends j{request(e){return o(this,null,function*(){let t=Y(e,e.webFetchExtra),s=X(e.params,e.shouldEncodeUrlParams),n=s?`${e.url}?${s}`:e.url,i=yield fetch(n,t),c=i.headers.get("content-type")||"",{responseType:d="text"}=i.ok?e:{};c.includes("application/json")&&(d="json");let h,m;switch(d){case"arraybuffer":case"blob":m=yield i.blob(),h=yield J(m);break;case"json":h=yield i.json();break;case"document":case"text":default:h=yield i.text()}let C={};return i.headers.forEach((a,l)=>{C[l]=a}),{data:h,headers:C,status:i.status,url:i.url}})}get(e){return o(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return o(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return o(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return o(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return o(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}},ee=D("CapacitorHttp",{web:()=>new R});var se=(()=>{let e=class e{constructor(){this.isLocal=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",this.isMobile=P.isNativePlatform(),this.API_BASE_URL=this.isMobile?"https://ordoo-api.onrender.com/api":this.isLocal?"http://localhost:3001/api":"https://ordoo-api.onrender.com/api",this.AUTH={LOGIN:`${this.API_BASE_URL}/auth/login`,SIGNUP:`${this.API_BASE_URL}/auth/signup`,LOGOUT:`${this.API_BASE_URL}/auth/logout`,PROFILE:`${this.API_BASE_URL}/user/profile`},this.UPLOAD={SINGLE:`${this.API_BASE_URL}/upload/single`,CHUNK:`${this.API_BASE_URL}/upload/chunk`}}get isLocalEnvironment(){return this.isLocal}get isMobileApp(){return this.isMobile}get currentPlatform(){return P.getPlatform()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var ae=(()=>{let e=class e{constructor(s){this.loadingController=s,this.loading=null}show(s="Loading..."){return o(this,null,function*(){try{this.loading&&(yield this.hide()),this.loading=yield this.loadingController.create({message:s,spinner:"circular"}),yield this.loading.present()}catch(n){console.error("Error showing loader:",n)}})}hide(){return o(this,null,function*(){try{this.loading&&(yield this.loading.dismiss(),this.loading=null)}catch(s){console.error("Error hiding loader:",s)}})}};e.\u0275fac=function(n){return new(n||e)(T(F))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();export{se as a,ae as b};

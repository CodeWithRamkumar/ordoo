import{a as U}from"./chunk-TKVVNTHR.js";import{$ as o,A as f,Fb as I,Ha as j,J as g,M,Mc as q,Nc as A,O,U as b,V as C,Va as N,W as x,X as P,Xb as D,Y as k,Ya as V,_ as n,_a as H,aa as h,ac as L,cc as W,ea as v,ec as $,fa as l,ga as m,gb as F,mc as R,pa as S,ra as s,sa as E,ta as w,ua as T,va as B,wa as z,z as y}from"./chunk-DINEKAUJ.js";import"./chunk-TL5KAYV2.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-VBFW7A5V.js";function G(a,u){if(a&1){let c=v();n(0,"button",25),l("click",function(){y(c);let e=m(2);return f(e.clearHistory())}),h(1,"ion-icon",26),o()}}function J(a,u){if(a&1){let c=v();n(0,"div",28),l("click",function(){let e=y(c).$implicit,t=m(3);return f(t.loadFromHistory(e))}),s(1),o()}if(a&2){let c=u.$implicit;g(),w(" ",c," ")}}function K(a,u){if(a&1&&(n(0,"div",8),P(1,J,2,1,"div",27,x),o()),a&2){let c=m(2);g(),k(c.history)}}function Q(a,u){a&1&&(n(0,"div",9),h(1,"ion-icon",29),n(2,"p"),s(3,"No calculations yet"),o()())}function X(a,u){if(a&1){let c=v();n(0,"div",2)(1,"div",4)(2,"div",5)(3,"h3"),h(4,"ion-icon",6),s(5," History "),o(),n(6,"div",22),b(7,G,2,0,"button",7),n(8,"button",23),l("click",function(){y(c);let e=m();return f(e.toggleHistory())}),h(9,"ion-icon",24),o()()(),b(10,K,3,0,"div",8)(11,Q,4,0,"div",9),o()()}if(a&2){let c=m();g(7),C(c.history.length>0?7:-1),g(3),C(c.history.length>0?10:11)}}function Y(a,u){if(a&1){let c=v();n(0,"button",25),l("click",function(){y(c);let e=m();return f(e.clearHistory())}),h(1,"ion-icon",26),o()}}function Z(a,u){if(a&1){let c=v();n(0,"div",28),l("click",function(){let e=y(c).$implicit,t=m(2);return f(t.loadFromHistory(e))}),s(1),o()}if(a&2){let c=u.$implicit;g(),w(" ",c," ")}}function tt(a,u){if(a&1&&(n(0,"div",8),P(1,Z,2,1,"div",27,x),o()),a&2){let c=m();g(),k(c.history)}}function et(a,u){a&1&&(n(0,"div",9),h(1,"ion-icon",29),n(2,"p"),s(3,"No calculations yet"),o()())}function it(a,u){if(a&1){let c=v();n(0,"button",30),l("click",function(){y(c);let e=m();return f(e.toggleHistory())}),h(1,"ion-icon",6),o()}}var ut=(()=>{let u=class u{constructor(i){this.headerService=i,this.display="",this.result="",this.showHistory=!1,this.history=[],this.lastCalculation="",this.justCalculated=!1,L({calculatorOutline:$,timeOutline:q,trashOutline:A,arrowBackOutline:W,closeOutline:R})}ngOnInit(){}ionViewDidEnter(){this.headerService.updateHeaderData({title:"Basic Calculator",subtitle:"Click back to return",image:"calculator",imageType:"icon",showBack:!0,showMenu:!0,backNavigationUrl:"/workspace/calculator-dashboard"})}inputNumber(i){let e=document.querySelector(".display-text"),t=e?.selectionStart??this.display.length;this.justCalculated||this.display==="Error"?(this.display=i,this.justCalculated=!1):this.display=this.display.slice(0,t)+i+this.display.slice(t),this.calculateLive(),setTimeout(()=>{e&&e.setSelectionRange(t+1,t+1)})}inputOperation(i){let e=document.querySelector(".display-text"),t=e?.selectionStart??this.display.length;if(this.display==="Error"){this.display="",this.result="",this.justCalculated=!1;return}if(!this.display)return;if(this.justCalculated){this.display=this.display+i,this.justCalculated=!1,this.calculateLive(),setTimeout(()=>{e&&e.setSelectionRange(this.display.length,this.display.length)});return}let r=this.display[t-1],d=this.display[t],p=t;["+","-","\xD7","\xF7"].includes(r)?(this.display=this.display.slice(0,t-1)+i+this.display.slice(t),p=t):["+","-","\xD7","\xF7"].includes(d)?(this.display=this.display.slice(0,t)+i+this.display.slice(t+1),p=t+1):(this.display=this.display.slice(0,t)+i+this.display.slice(t),p=t+1),this.calculateLive(),setTimeout(()=>{e&&e.setSelectionRange(p,p)})}inputDecimal(){let i=document.querySelector(".display-text"),e=i?.selectionStart??this.display.length;if(this.justCalculated)this.display="0.",this.justCalculated=!1;else{let t=this.display.slice(0,e),r=this.display.slice(e),d=t.match(/[+\-×÷]?([^+\-×÷]*)$/),p=r.match(/^([^+\-×÷]*)/);((d?d[1]:"")+(p?p[1]:"")).includes(".")||(this.display=this.display.slice(0,e)+"."+this.display.slice(e),setTimeout(()=>{i&&i.setSelectionRange(e+1,e+1)}))}this.calculateLive()}clear(){let i=document.querySelector(".display-text"),e=i?.selectionStart??this.display.length;if(this.display==="Error"){this.display="",this.result="",this.justCalculated=!1;return}e>0&&(this.display=this.display.slice(0,e-1)+this.display.slice(e),this.calculateLive(),setTimeout(()=>{i&&i.setSelectionRange(e-1,e-1)}))}clearAll(){this.display="",this.result="",this.justCalculated=!1}toggleSign(){if(!this.display||this.display==="Error"){this.display="",this.result="",this.justCalculated=!1;return}if(this.justCalculated)this.display.startsWith("(-")&&this.display.endsWith(")")?this.display=this.display.slice(2,-1):this.display.startsWith("-")?this.display=this.display.slice(1):this.display="(-"+this.display+")";else{let i=document.querySelector(".display-text"),e=i?.selectionStart??this.display.length,t=e,r=e;for(;t>0;){let _=this.display[t-1];if(["+","\xD7","\xF7"].includes(_)||_==="-"&&t>1&&!["+","\xD7","\xF7"].includes(this.display[t-2]))break;t--}for(;r<this.display.length&&!/[+\-×÷]/.test(this.display[r]);)r++;let d=this.display.slice(t,r),p=e;if(d&&!isNaN(Number(d))){if(d.startsWith("(-")&&d.endsWith(")")){let _=d.slice(2,-1);this.display=this.display.slice(0,t)+_+this.display.slice(r),p=e-3}else if(d.startsWith("-")){let _="("+d+")";this.display=this.display.slice(0,t)+_+this.display.slice(r),p=e+2}else{let _="(-"+d+")";this.display=this.display.slice(0,t)+_+this.display.slice(r),p=e+3}setTimeout(()=>{i&&i.setSelectionRange(p,p)})}}this.calculateLive()}inputPercent(){if(!this.display)return;let i=parseFloat(this.display);isNaN(i)||(this.display=String(i/100),this.justCalculated=!0)}performCalculation(){if(this.display&&!this.justCalculated)try{let i=this.display.replace(/×/g,"*").replace(/÷/g,"/");if(/[+\-*/]$/.test(i)&&(i=i.slice(0,-1)),/[+\-*/]/.test(i)){let e=this.evaluateExpression(i);if(isFinite(e)){let t=`${this.display.replace(/[+\-×÷]$/,"")} = ${e}`;this.display!==String(e)&&t!==this.lastCalculation&&(this.history.unshift(t),this.history.length>10&&this.history.pop(),this.lastCalculation=t),this.display=String(e),this.result="",this.justCalculated=!0}}}catch{this.display="Error",this.justCalculated=!0}}calculateLive(){if(!this.display||this.justCalculated){this.result="";return}try{let i=this.display.replace(/×/g,"*").replace(/÷/g,"/");if(/[+\-*/]$/.test(i)&&(i=i.slice(0,-1)),/[+\-*/]/.test(i)){let e=this.evaluateExpression(i);isFinite(e)?this.result=String(e):this.result=""}else this.result=""}catch{this.result=""}}evaluateExpression(i){let e=i.replace(/\((-?\d+(?:\.\d+)?)\)/g,"$1");try{return new Function("return "+e)()}catch{throw new Error("Invalid expression")}}onDisplayInput(i){this.display=i.target.value,this.justCalculated=!1,this.calculateLive()}clearHistory(){this.history=[]}loadFromHistory(i){let e=i.split(" = ")[1];e&&(this.display=e,this.result="",this.justCalculated=!0,this.showHistory=!1)}toggleHistory(){this.showHistory=!this.showHistory}};u.\u0275fac=function(e){return new(e||u)(M(U))},u.\u0275cmp=O({type:u,selectors:[["app-basic-calculator"]],decls:61,vars:8,consts:[[1,"calculator-container"],[1,"calculator-inner-conatiner"],[1,"mobile-history"],[1,"left-panel"],[1,"history-section"],[1,"history-header"],["name","time-outline"],[1,"clear-btn"],[1,"history-list"],[1,"no-history"],[1,"right-panel"],[1,"calculator"],[1,"display"],[1,"expression-text"],[1,"display-text",3,"ngModelChange","input","ngModel"],[1,"history-link"],[1,"buttons"],[1,"btn","btn-function",3,"click"],["name","arrow-back-outline"],[1,"btn","btn-operator",3,"click"],[1,"btn","btn-number",3,"click"],[1,"btn","btn-equals",3,"click"],[1,"header-buttons"],[1,"back-btn",3,"click"],["name","close-outline"],[1,"clear-btn",3,"click"],["name","trash-outline"],[1,"history-item"],[1,"history-item",3,"click"],["name","calculator-outline"],[1,"history-link",3,"click"]],template:function(e,t){e&1&&(n(0,"ion-content")(1,"div",0)(2,"div",1),b(3,X,12,2,"div",2),n(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3"),h(8,"ion-icon",6),s(9," History "),o(),b(10,Y,2,0,"button",7),o(),b(11,tt,3,0,"div",8)(12,et,4,0,"div",9),o()(),n(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),s(17),o(),n(18,"input",14),z("ngModelChange",function(d){return B(t.display,d)||(t.display=d),d}),l("input",function(d){return t.onDisplayInput(d)}),o(),b(19,it,2,0,"button",15),o(),n(20,"div",16)(21,"button",17),l("click",function(){return t.clearAll()}),s(22,"C"),o(),n(23,"button",17),l("click",function(){return t.clear()}),h(24,"ion-icon",18),o(),n(25,"button",17),l("click",function(){return t.toggleSign()}),s(26,"\xB1"),o(),n(27,"button",19),l("click",function(){return t.inputOperation("\xF7")}),s(28,"\xF7"),o(),n(29,"button",20),l("click",function(){return t.inputNumber("7")}),s(30,"7"),o(),n(31,"button",20),l("click",function(){return t.inputNumber("8")}),s(32,"8"),o(),n(33,"button",20),l("click",function(){return t.inputNumber("9")}),s(34,"9"),o(),n(35,"button",19),l("click",function(){return t.inputOperation("\xD7")}),s(36,"\xD7"),o(),n(37,"button",20),l("click",function(){return t.inputNumber("4")}),s(38,"4"),o(),n(39,"button",20),l("click",function(){return t.inputNumber("5")}),s(40,"5"),o(),n(41,"button",20),l("click",function(){return t.inputNumber("6")}),s(42,"6"),o(),n(43,"button",19),l("click",function(){return t.inputOperation("-")}),s(44,"-"),o(),n(45,"button",20),l("click",function(){return t.inputNumber("1")}),s(46,"1"),o(),n(47,"button",20),l("click",function(){return t.inputNumber("2")}),s(48,"2"),o(),n(49,"button",20),l("click",function(){return t.inputNumber("3")}),s(50,"3"),o(),n(51,"button",19),l("click",function(){return t.inputOperation("+")}),s(52,"+"),o(),n(53,"button",17),l("click",function(){return t.inputPercent()}),s(54,"%"),o(),n(55,"button",20),l("click",function(){return t.inputNumber("0")}),s(56,"0"),o(),n(57,"button",20),l("click",function(){return t.inputDecimal()}),s(58,"."),o(),n(59,"button",21),l("click",function(){return t.performCalculation()}),s(60,"="),o()()()()()()()),e&2&&(g(3),C(t.showHistory?3:-1),g(7),C(t.history.length>0?10:-1),g(),C(t.history.length>0?11:12),g(2),S("mobile-hidden",t.showHistory),g(4),E(t.result||"\xA0"),g(),T("ngModel",t.display),g(),C(t.history.length>0?19:-1))},dependencies:[I,D,j,F,N,V,H],styles:['*[_ngcontent-%COMP%]{color:var(--ion-text-color)}.calculator-container[_ngcontent-%COMP%]{height:100%;align-content:center;overflow:auto;padding:var(--spacing-md)}.calculator-inner-conatiner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.left-panel[_ngcontent-%COMP%]{flex:1;display:none;align-items:center;justify-content:center;padding:var(--spacing-xl)}.right-panel[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.history-section[_ngcontent-%COMP%]{max-width:400px;width:100%;background:var(--ion-card-background);border-radius:var(--border-radius-xl);box-shadow:#0000003d 0 3px 8px;padding:var(--spacing-lg);font-family:var(--ion-font-family);height:480px;display:flex;flex-direction:column;margin:0 auto}.history-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg);padding-bottom:var(--spacing-md);border-bottom:2px solid var(--ion-color-primary);min-height:60px}.history-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-4xl);font-weight:var(--font-weight-bold);color:var(--ion-color-primary);margin:0;display:flex;align-items:center;gap:var(--spacing-sm)}.history-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-3xl)}.history-header[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:var(--ion-color-danger);color:var(--ion-color-danger);border:none;padding:var(--spacing-sm);border-radius:50%;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center}.history-header[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg);color:var(--ion-white-color-text)}.history-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding-right:var(--spacing-xs)}.history-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.history-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.history-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--ion-color-primary);border-radius:2px}.history-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-background-color),rgba(var(--ion-color-light-rgb),.5));padding:var(--spacing-md);margin-bottom:var(--spacing-sm);border-radius:var(--border-radius-md);font-family:var(--ion-font-family);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);border-left:3px solid var(--ion-color-primary);box-shadow:0 1px 4px #0000001a;position:relative;overflow:hidden;cursor:pointer}.history-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,var(--ion-color-primary),var(--ion-color-secondary))}.history-item[_ngcontent-%COMP%]:first-child{border-left-color:var(--ion-color-success)}.history-item[_ngcontent-%COMP%]:first-child:before{background:linear-gradient(90deg,var(--ion-color-success),var(--ion-color-primary))}.no-history[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--spacing-2xl);color:var(--ion-color-medium)}.no-history[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-15xl);margin-bottom:var(--spacing-lg);color:var(--ion-color-primary);opacity:.5}.no-history[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:var(--font-weight-light);margin:0;line-height:1.5}.calculator[_ngcontent-%COMP%]{max-width:400px;width:100%;background:var(--ion-card-background);border-radius:var(--border-radius-xl);box-shadow:#0000003d 0 3px 8px;padding:var(--spacing-lg);font-family:var(--ion-font-family)}.display[_ngcontent-%COMP%]{background:var(--ion-background-color);border:2px solid var(--ion-color-primary);padding:var(--spacing-md) var(--spacing-md) var(--spacing-md) var(--spacing-lg);margin-bottom:var(--spacing-md);border-radius:var(--border-radius-lg);text-align:right;min-height:80px;max-height:120px;display:flex;flex-direction:column;justify-content:center;position:relative;overflow:hidden;width:100%;box-sizing:border-box}.expression-text[_ngcontent-%COMP%]{font-size:var(--font-size-base);font-weight:var(--font-weight-normal);margin-bottom:var(--spacing-xs);color:var(--ion-color-medium);height:20px;padding-left:40px}.cursor-controls[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs);margin-top:var(--spacing-xs)}.display-text[_ngcontent-%COMP%]{color:var(--ion-text-color);font-size:var(--font-size-6xl);font-weight:var(--font-weight-bold);overflow-x:auto;overflow-y:hidden;white-space:nowrap;line-height:1.2;width:100%;cursor:text;font-family:monospace;background:transparent;border:none;outline:none;text-align:right}.display-text[_ngcontent-%COMP%]::-webkit-scrollbar{height:2px}.display-text[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.display-text[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--ion-color-primary);border-radius:1px}.history-link[_ngcontent-%COMP%]{background:var(--ion-color-primary);border:none;border-radius:50%;width:32px;height:32px;display:none;align-items:center;justify-content:center;cursor:pointer;position:absolute;top:var(--spacing-sm);left:var(--spacing-sm)}.history-link[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-lg);color:var(--ion-white-color-text)}.buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--spacing-sm)}.btn[_ngcontent-%COMP%]{height:55px;border:none;border-radius:var(--border-radius-lg);font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);font-family:var(--ion-font-family);cursor:pointer;outline:none}.btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.btn-number[_ngcontent-%COMP%]{background:var(--ion-color-light);color:var(--ion-black-color-text)}.btn-operator[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:var(--ion-white-color-text)}.btn-function[_ngcontent-%COMP%]{background:var(--ion-color-medium);color:var(--ion-white-color-text)}.btn-function[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-white-color-text)}.btn-equals[_ngcontent-%COMP%]{background:var(--ion-color-success);color:var(--ion-black-color-text)}.mobile-history[_ngcontent-%COMP%]{display:none;align-items:center;justify-content:center}.mobile-history[_ngcontent-%COMP%]   .history-section[_ngcontent-%COMP%]{max-width:400px;height:480px;border-radius:var(--border-radius-xl);box-shadow:0 8px 32px #0000001f;padding:var(--spacing-lg);display:flex;flex-direction:column;background:var(--ion-card-background)}.mobile-history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-lg);padding:var(--spacing-md) 0;border-bottom:2px solid var(--ion-color-primary);min-height:60px}.mobile-history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);color:var(--ion-color-primary);margin:0;display:flex;align-items:center;gap:var(--spacing-sm)}.mobile-history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-4xl)}.mobile-history[_ngcontent-%COMP%]   .history-header[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.mobile-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding-right:var(--spacing-xs)}.mobile-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{background:var(--ion-card-background);padding:var(--spacing-md);margin-bottom:var(--spacing-sm);border-radius:var(--border-radius-md);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);border-left:3px solid var(--ion-color-primary);box-shadow:0 1px 4px #0000001a;cursor:pointer;position:relative;overflow:hidden}.mobile-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,var(--ion-color-primary),var(--ion-color-secondary))}.mobile-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:first-child{border-left-color:var(--ion-color-success)}.mobile-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:first-child:before{background:linear-gradient(90deg,var(--ion-color-success),var(--ion-color-primary))}.mobile-hidden[_ngcontent-%COMP%]{display:none}.back-btn[_ngcontent-%COMP%]{border:none;padding:var(--spacing-sm);border-radius:50%;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-xl);color:var(--ion-white-color-text)}@media (max-width: 768px){.calculator-container[_ngcontent-%COMP%]{display:block;align-content:center;padding:var(--spacing-md);overflow:auto}.right-panel[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:auto}.left-panel[_ngcontent-%COMP%]{display:none}.history-link[_ngcontent-%COMP%]{display:flex}.mobile-history[_ngcontent-%COMP%]{display:block;width:100%}.mobile-history.show[_ngcontent-%COMP%]{display:flex}}@media (min-width: 769px){.left-panel[_ngcontent-%COMP%]{display:flex}.calculator[_ngcontent-%COMP%]{max-width:400px}.display[_ngcontent-%COMP%]{min-height:70px}.display-text[_ngcontent-%COMP%]{font-size:var(--font-size-8xl)}.btn[_ngcontent-%COMP%]{height:60px;font-size:var(--font-size-xl)}}']});let a=u;return a})();export{ut as BasicCalculatorPage};

import{a as J}from"./chunk-PROMHQ5N.js";import{$b as R,Aa as x,B as m,Ba as M,C as c,D as w,E as v,Ib as E,Ja as k,Lb as z,N as l,Na as O,Pb as H,Q as C,Qb as F,S as P,X as y,ac as W,ca as g,da as o,dd as N,ea as a,eb as I,fa as h,gb as V,gc as j,hc as L,ja as b,jd as G,ka as d,kd as U,la as r,mc as B,nc as K,nd as q,rb as D,rd as A,ta as S,wa as _,xa as T,za as f}from"./chunk-TS35J3DX.js";import"./chunk-TL5KAYV2.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-VBFW7A5V.js";function Q(s,p){if(s&1&&(o(0,"div",19),_(1),a()),s&2){let n=r();l(),T(n.display)}}function X(s,p){if(s&1&&(o(0,"div",20),_(1),a()),s&2){let n=r();l(),T(n.getStatusLabel())}}function Y(s,p){if(s&1){let n=b();o(0,"ion-button",21),d("click",function(){m(n);let t=r();return c(t.openModal())}),h(1,"ion-icon",22),a()}}function Z(s,p){if(s&1){let n=b();o(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),_(3,"Set Timer"),a()()(),o(4,"ion-content",23)(5,"ion-input",24),M("ngModelChange",function(t){m(n);let e=r();return x(e.modalHours,t)||(e.modalHours=t),c(t)}),d("ionInput",function(t){m(n);let e=r();return c(e.onInput(t,"hours"))})("keydown",function(t){m(n);let e=r();return c(e.onKeyDown(t))}),a(),o(6,"ion-input",25),M("ngModelChange",function(t){m(n);let e=r();return x(e.modalMinutes,t)||(e.modalMinutes=t),c(t)}),d("ionInput",function(t){m(n);let e=r();return c(e.onInput(t,"minutes"))})("keydown",function(t){m(n);let e=r();return c(e.onKeyDown(t))}),a(),o(7,"ion-input",26),M("ngModelChange",function(t){m(n);let e=r();return x(e.modalSeconds,t)||(e.modalSeconds=t),c(t)}),d("ionInput",function(t){m(n);let e=r();return c(e.onInput(t,"seconds"))})("keydown",function(t){m(n);let e=r();return c(e.onKeyDown(t))}),a(),o(8,"div",27)(9,"ion-button",28),d("click",function(){m(n);let t=r();return c(t.closeModal())}),_(10,"Cancel"),a(),o(11,"ion-button",29),d("click",function(){m(n);let t=r();return c(t.setTimerFromModal())}),_(12,"Set Timer"),a()()()}if(s&2){let n=r();l(5),f("ngModel",n.modalHours),l(),f("ngModel",n.modalMinutes),l(),f("ngModel",n.modalSeconds),l(4),g("disabled",!n.modalHours&&!n.modalMinutes&&!n.modalSeconds)}}var le=(()=>{let p=class p{constructor(i){this.headerService=i,this.totalTime=0,this.remainingTime=0,this.display="00:00",this.isRunning=!1,this.isFinished=!1,this.circumference=2*Math.PI*96,this.dashOffset=this.circumference,this.hours=0,this.minutes=0,this.seconds=0,this.isModalOpen=!1,this.modalHours=null,this.modalMinutes=null,this.modalSeconds=null,B({play:G,pause:N,refresh:U,stop:q,add:K,timerOutline:A})}ngOnInit(){this.headerService.updateHeaderData({title:"Timer",subtitle:"Countdown timer",image:"timer-outline",imageType:"icon",showBack:!0,showMenu:!0,backNavigationUrl:"/workspace/clock"})}ngOnDestroy(){this.interval&&clearInterval(this.interval)}setTimerFromInputs(){(this.hours>0||this.minutes>0||this.seconds>0)&&this.setTimer(this.hours,this.minutes,this.seconds)}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}setTimerFromModal(){let i=this.modalHours||0,t=this.modalMinutes||0,e=this.modalSeconds||0;(i>0||t>0||e>0)&&(this.setTimer(i,t,e),this.closeModal())}validateInput(i){i==="hours"?this.modalHours=Math.max(0,Math.min(99,this.modalHours||0)):i==="minutes"?this.modalMinutes=Math.max(0,Math.min(99,this.modalMinutes||0)):i==="seconds"&&(this.modalSeconds=Math.max(0,Math.min(99,this.modalSeconds||0)))}onKeyDown(i){(i.key==="-"||i.key==="e"||i.key==="E")&&i.preventDefault()}onInput(i,t){let e=i.target.value;e.length>2&&(e=e.slice(0,2),i.target.value=e);let u=parseInt(e)||0;t==="hours"?this.modalHours=Math.min(99,u):t==="minutes"?this.modalMinutes=Math.min(99,u):t==="seconds"&&(this.modalSeconds=Math.min(99,u))}setTimer(i,t,e){this.totalTime=i*3600+t*60+e,this.remainingTime=this.totalTime,this.isFinished=!1,this.updateDisplay()}getStatusLabel(){return this.isFinished?"Finished":this.isRunning?"Running":this.totalTime>0?"Paused":"Set Timer"}start(){this.remainingTime>0&&!this.isRunning&&(this.isRunning=!0,this.interval=setInterval(()=>{this.remainingTime--,this.updateDisplay(),this.remainingTime<=0&&this.finish()},1e3))}pause(){this.isRunning=!1,this.interval&&(clearInterval(this.interval),this.interval=null)}reset(){this.pause(),this.remainingTime=this.totalTime,this.isFinished=!1,this.updateDisplay()}clear(){this.pause(),this.totalTime=0,this.remainingTime=0,this.isFinished=!1,this.display="00:00",this.dashOffset=this.circumference}finish(){this.isRunning=!1,this.isFinished=!0,this.remainingTime=0,this.updateDisplay(),this.interval&&clearInterval(this.interval)}updateDisplay(){let i=Math.floor(this.remainingTime/3600),t=Math.floor(this.remainingTime%3600/60),e=this.remainingTime%60;if(i>0?this.display=`${i.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`:this.display=`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`,this.totalTime>0){let u=(this.totalTime-this.remainingTime)/this.totalTime;this.dashOffset=this.circumference-u*this.circumference}}};p.\u0275fac=function(t){return new(t||p)(C(J))},p.\u0275cmp=P({type:p,selectors:[["app-timer"]],decls:21,vars:11,consts:[[1,"timer-container"],[1,"timer-inner-container"],[1,"timer"],[1,"timer-circle"],["width","200","height","200",1,"progress-ring"],["stroke","var(--ion-color-light)","stroke-width","4","fill","transparent","r","96","cx","100","cy","100",1,"background-circle"],["stroke","var(--ion-color-primary)","stroke-width","4","fill","transparent","r","96","cx","100","cy","100",1,"progress-ring-circle"],[1,"time-content"],["class","time-display",4,"ngIf"],["class","time-label",4,"ngIf"],["fill","clear","class","set-timer-btn",3,"click",4,"ngIf"],[1,"timer-modal-small",3,"didDismiss","isOpen"],[1,"floating-buttons"],["color","danger","fill","outline","shape","round",1,"floating-btn","side-btn",3,"click"],["name","stop"],["fill","outline","shape","round",1,"floating-btn","center-btn",3,"click","color","disabled"],[3,"name"],["color","medium","fill","outline","shape","round",1,"floating-btn","side-btn",3,"click"],["name","refresh"],[1,"time-display"],[1,"time-label"],["fill","clear",1,"set-timer-btn",3,"click"],["name","add","size","large"],[1,"ion-padding"],["type","number","labelPlacement","floating","label","Hours","fill","outline","placeholder","0","min","0","max","99",1,"common-input",3,"ngModelChange","ionInput","keydown","ngModel"],["type","number","labelPlacement","floating","label","Minutes","fill","outline","placeholder","0","min","0","max","99",1,"common-input",3,"ngModelChange","ionInput","keydown","ngModel"],["type","number","labelPlacement","floating","label","Seconds","fill","outline","placeholder","0","min","0","max","99",1,"common-input",3,"ngModelChange","ionInput","keydown","ngModel"],[1,"button-group"],[1,"btn-secondary",3,"click"],["fill","solid",1,"btn-primary",3,"click","disabled"]],template:function(t,e){t&1&&(o(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),w(),o(5,"svg",4),h(6,"circle",5)(7,"circle",6),a(),v(),o(8,"div",7),y(9,Q,2,1,"div",8)(10,X,2,1,"div",9)(11,Y,2,0,"ion-button",10),o(12,"ion-modal",11),d("didDismiss",function(){return e.closeModal()}),y(13,Z,13,4,"ng-template"),a()()()(),o(14,"div",12)(15,"ion-button",13),d("click",function(){return e.pause()}),h(16,"ion-icon",14),a(),o(17,"ion-button",15),d("click",function(){return e.isRunning?e.pause():e.start()}),h(18,"ion-icon",16),a(),o(19,"ion-button",17),d("click",function(){return e.clear()}),h(20,"ion-icon",18),a()()()()()),t&2&&(l(7),S("stroke-dasharray",e.circumference)("stroke-dashoffset",e.dashOffset),l(2),g("ngIf",e.totalTime>0),l(),g("ngIf",e.totalTime>0),l(),g("ngIf",!e.totalTime),l(),g("isOpen",e.isModalOpen),l(5),g("color",e.isRunning?"warning":"success")("disabled",e.totalTime===0),l(),g("name",e.isRunning?"pause":"play"))},dependencies:[O,k,D,I,V,H,z,L,j,E,F,W,R],styles:[".timer-container[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;padding:var(--spacing-md)}.timer-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;position:relative;box-shadow:#0000003d 0 3px 8px;border-radius:var(--border-radius-xl);background:var(--ion-card-background);padding:var(--spacing-md);max-width:350px;height:400px;margin:0 auto;gap:var(--spacing-lg)}.timer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-lg);font-family:var(--ion-font-family);position:relative}.timer-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;height:32px}.set-timer-btn[_ngcontent-%COMP%]{--color: var(--ion-color-primary);font-size:var(--font-size-15xl)}.timer-modal-small[_ngcontent-%COMP%]{--width: 80%;--max-width: 320px;--height: 370px;--max-height: 80%}.timer-modal-small[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}.timer-modal-small[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm)}.timer-modal-small[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;width:50%}.play-pause-btn[_ngcontent-%COMP%]{--color: var(--ion-color-success);font-size:var(--font-size-15xl);position:absolute;bottom:-20px}.play-pause-card-btn[_ngcontent-%COMP%]{width:60px;height:60px;--border-radius: 50%;--border-width: 2px}.timer-circle[_ngcontent-%COMP%]{width:200px;height:200px;position:relative;display:flex;align-items:center;justify-content:center}.progress-ring[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transform:rotate(-90deg)}.progress-ring-circle[_ngcontent-%COMP%]{transition:none}.time-content[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1}.time-display[_ngcontent-%COMP%]{color:var(--ion-text-color);font-size:var(--font-size-4xl);font-weight:var(--font-weight-black);line-height:1;font-family:var(--ion-font-family);letter-spacing:-1px}.time-label[_ngcontent-%COMP%]{font-size:var(--font-size-md);font-weight:var(--font-weight-medium);color:var(--ion-color-medium);margin-top:var(--spacing-xs);text-transform:uppercase;letter-spacing:1px}.floating-buttons[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);align-items:center;justify-content:center;padding-bottom:var(--spacing-md)}.floating-btn[_ngcontent-%COMP%]{--border-width: 2px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .1);--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;background:#fffc}.floating-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-xl)}.side-btn[_ngcontent-%COMP%]{width:50px;height:50px;--border-radius: 50%}.center-btn[_ngcontent-%COMP%]{width:60px;height:60px;--border-radius: 50%}.center-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--font-size-2xl)}@media (min-width: 769px){.timer[_ngcontent-%COMP%]{max-width:500px}}"]});let s=p;return s})();export{le as TimerPage};

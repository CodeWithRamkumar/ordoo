import{a as re}from"./chunk-ZQCQEOMW.js";import"./chunk-NHNJLYNF.js";import{b as Y}from"./chunk-B7XTWBX7.js";import{a as H}from"./chunk-YZ7OZVHI.js";import{a as oe}from"./chunk-DRB3S4YK.js";import{$ as n,$a as z,Ac as $,Bb as D,Bc as ee,Cc as te,Dc as ie,Fb as L,Ha as k,Hc as ne,Ib as U,J as a,La as F,M as g,O as E,Qb as V,Wb as q,Xa as w,Xb as R,Ya as I,Yb as B,Z as m,Za as T,_ as i,aa as s,ab as j,ac as J,bb as W,fa as l,fb as G,hb as N,ib as A,pa as p,pc as K,qc as Q,ra as c,xc as X,zc as Z}from"./chunk-DINEKAUJ.js";import"./chunk-GAQMLLH7.js";import"./chunk-QUJFQN2Y.js";import"./chunk-GV7ROTFX.js";import"./chunk-WP3PW2FM.js";import"./chunk-RAIJBZAF.js";import"./chunk-TL5KAYV2.js";import"./chunk-5DK6WUVE.js";import"./chunk-N6MIILRQ.js";import"./chunk-VHD5V3JE.js";import"./chunk-3COQWRSL.js";import"./chunk-HGIQAHIR.js";import"./chunk-EPAF7B2K.js";import"./chunk-CU2LIOPH.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-EQDF3Z2M.js";import"./chunk-CKP3SGE2.js";import"./chunk-SUU46OAF.js";import"./chunk-XTA6VOZK.js";import"./chunk-ALL2FOAL.js";import"./chunk-7HDUECN2.js";import"./chunk-I3XFR2VW.js";import"./chunk-J7JKH43X.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as O,b as M,i as d}from"./chunk-VBFW7A5V.js";var _e=(()=>{let u=class u{constructor(t,r,e,o,h,_,f,v){this.fb=t,this.navCtrl=r,this.http=e,this.authService=o,this.config=h,this.loader=_,this.firebaseSso=f,this.toastController=v,this.showPassword=!1,this.showConfirmPassword=!1,this.emailExists=!1,J({eyeOutline:Q,eyeOffOutline:K,mailOutline:ie,lockClosedOutline:X,personOutline:ne,logoGoogle:ee,logoFacebook:$,logoApple:Z,logoTwitter:te}),this.signupForm=this.fb.group({email:["",[w.required,w.email]],password:["",[w.required,w.minLength(6)]],confirmPassword:["",[w.required]]},{validators:this.passwordMatchValidator})}ngOnInit(){}passwordMatchValidator(t){let r=t.get("password"),e=t.get("confirmPassword");return r&&e&&r.value&&e.value&&r.value!==e.value?(e.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(e?.hasError("passwordMismatch")&&e.setErrors(null),null)}togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}onSignup(t){return d(this,null,function*(){this.emailExists=!1;let r;if(t)r=M(O({},t),{isSso:!0});else{if(!this.signupForm.valid)return;r={email:this.signupForm.value.email,password:this.signupForm.value.password}}yield this.loader.show("Creating account..."),this.http.post(this.config.AUTH.SIGNUP,r).subscribe({next:e=>d(this,null,function*(){yield this.authService.saveUserData(e),yield this.loader.hide(),this.navCtrl.navigateRoot("/auth/profile-setup")}),error:e=>d(this,null,function*(){yield this.loader.hide(),console.log("Signup error:",e),console.log("Error status:",e.status),t?e.status===409&&(yield(yield this.toastController.create({message:"Email already exists. Please try logging in instead.",duration:3e3,color:"danger",position:"top"})).present()):e.status===409&&(this.emailExists=!0,this.signupForm.get("email")?.setErrors({serverError:!0}))})})})}navigateToLogin(){this.navCtrl.navigateRoot("/auth/login")}signupWithGoogle(){return d(this,null,function*(){try{let t=yield this.firebaseSso.signInWithGoogle();yield this.onSignup(t)}catch(t){console.error("Google signup error:",t)}})}signupWithFacebook(){return d(this,null,function*(){try{let t=yield this.firebaseSso.signInWithFacebook();yield this.onSignup(t)}catch(t){console.error("Facebook signup error:",t)}})}signupWithApple(){return d(this,null,function*(){try{let t=yield this.firebaseSso.signInWithApple();yield this.onSignup(t)}catch(t){console.error("Apple signup error:",t)}})}signupWithTwitter(){return d(this,null,function*(){try{let t=yield this.firebaseSso.signInWithTwitter();yield this.onSignup(t)}catch(t){console.error("Twitter signup error:",t)}})}clearEmailError(){this.emailExists&&(this.emailExists=!1,this.signupForm.get("email")?.setErrors(null))}};u.\u0275fac=function(r){return new(r||u)(g(G),g(A),g(F),g(Y),g(H),g(oe),g(re),g(q))},u.\u0275cmp=E({type:u,selectors:[["app-signup"]],decls:53,vars:27,consts:[[1,"signup-content",3,"scrollY"],[1,"signup-wrapper"],[1,"left-section"],[1,"brand-container"],["src","assets/icon/ordoo-logo.svg","alt","Ordoo Logo",1,"brand-logo"],[1,"brand-title"],[1,"brand-text"],[1,"right-section"],[1,"scrollable-content"],[1,"form-container"],[1,"logo-section"],[1,"logo-circle"],["src","assets/icon/ordoo-logo.svg","alt","Ordoo Logo",1,"logo-icon"],[1,"app-title"],[1,"form-title"],[1,"form-subtitle"],[1,"signup-form",3,"ngSubmit","formGroup"],["name","mail-outline",1,"signup-floating-icons-left"],["formControlName","email","labelPlacement","floating","type","email","label","Email address","fill","outline","placeholder","Enter email","mode","md",1,"common-input","common-input-design-with-icon-left",3,"ionInput","errorText"],["name","lock-closed-outline",1,"signup-floating-icons-left"],["labelPlacement","floating","formControlName","password","label","Password","fill","outline","mode","md","placeholder","Enter password","errorText","Password must be at least 6 characters",1,"common-input","common-input-design-with-icon-left-and-right",3,"type"],[1,"signup-floating-icons-right",3,"click","name"],["labelPlacement","floating","formControlName","confirmPassword","label","Confirm Password","fill","outline","mode","md","placeholder","Confirm password",1,"common-input","common-input-design-with-icon-left-and-right",3,"type","errorText"],["mode","md","expand","block","type","submit",1,"btn-primary",3,"disabled"],[1,"alternative-signup"],[1,"divider"],[1,"divider-text"],[1,"sso-buttons"],["mode","md","fill","outline",1,"sso-icon-button",3,"click"],["name","logo-google"],["name","logo-facebook"],["name","logo-apple"],["name","logo-twitter"],[1,"login-section"],[1,"login-text"],[1,"login-link",3,"click"]],template:function(r,e){if(r&1&&(i(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"img",4),i(5,"h2",5),c(6,"Join Ordoo Today"),n(),i(7,"p",6),c(8,"Create your account and start organizing your world"),n()()(),i(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),s(14,"img",12),n(),i(15,"h1",13),c(16,"Ordoo"),n()(),i(17,"h2",14),c(18,"Create Account"),n(),i(19,"p",15),c(20,"Please fill in your details to sign up"),n(),i(21,"form",16),l("ngSubmit",function(){return e.onSignup()}),i(22,"ion-item"),s(23,"ion-icon",17),i(24,"ion-input",18),l("ionInput",function(){return e.clearEmailError()}),n()(),i(25,"ion-item"),s(26,"ion-icon",19)(27,"ion-input",20),i(28,"ion-icon",21),l("click",function(){return e.togglePassword()}),n()(),i(29,"ion-item"),s(30,"ion-icon",19)(31,"ion-input",22),i(32,"ion-icon",21),l("click",function(){return e.toggleConfirmPassword()}),n()(),i(33,"ion-button",23),c(34," Sign Up "),n()(),i(35,"div",24)(36,"div",25)(37,"span",26),c(38,"or"),n()(),i(39,"div",27)(40,"ion-button",28),l("click",function(){return e.signupWithGoogle()}),s(41,"ion-icon",29),n(),i(42,"ion-button",28),l("click",function(){return e.signupWithFacebook()}),s(43,"ion-icon",30),n(),i(44,"ion-button",28),l("click",function(){return e.signupWithApple()}),s(45,"ion-icon",31),n(),i(46,"ion-button",28),l("click",function(){return e.signupWithTwitter()}),s(47,"ion-icon",32),n()()(),i(48,"div",33)(49,"p",34),c(50," Already have an account? "),i(51,"ion-text",35),l("click",function(){return e.navigateToLogin()}),c(52," Sign In "),n()()()()()()()()),r&2){let o,h,_,f,v,x,P,b,y,S;m("scrollY",!1),a(21),m("formGroup",e.signupForm),a(),p("error-item",e.emailExists||((o=e.signupForm.get("email"))==null?null:o.invalid)&&((o=e.signupForm.get("email"))==null?null:o.touched)),a(2),p("ion-invalid",e.emailExists||((h=e.signupForm.get("email"))==null?null:h.invalid)&&((h=e.signupForm.get("email"))==null?null:h.touched))("ion-touched",e.emailExists||((_=e.signupForm.get("email"))==null?null:_.touched)),m("errorText",e.emailExists?"Email already exists":"Please enter a valid email"),a(),p("error-item",((f=e.signupForm.get("password"))==null?null:f.invalid)&&((f=e.signupForm.get("password"))==null?null:f.touched)),a(2),p("ion-invalid",((v=e.signupForm.get("password"))==null?null:v.invalid)&&((v=e.signupForm.get("password"))==null?null:v.touched))("ion-touched",(x=e.signupForm.get("password"))==null?null:x.touched),m("type",e.showPassword?"text":"password"),a(),m("name",e.showPassword?"eye-off-outline":"eye-outline"),a(),p("error-item",((P=e.signupForm.get("confirmPassword"))==null?null:P.invalid)&&((P=e.signupForm.get("confirmPassword"))==null?null:P.touched)),a(2),p("ion-invalid",((b=e.signupForm.get("confirmPassword"))==null?null:b.invalid)&&((b=e.signupForm.get("confirmPassword"))==null?null:b.touched))("ion-touched",(y=e.signupForm.get("confirmPassword"))==null?null:y.touched),m("type",e.showConfirmPassword?"text":"password")("errorText",(S=e.signupForm.get("confirmPassword"))!=null&&S.hasError("passwordMismatch")?"Passwords must match":"Please confirm your password"),a(),m("name",e.showConfirmPassword?"eye-off-outline":"eye-outline"),a(),m("disabled",e.signupForm.invalid)}},dependencies:[L,D,B,U,R,V,k,N,z,I,T,j,W],styles:['.signup-wrapper[_ngcontent-%COMP%]{display:flex;min-height:100vh}.left-section[_ngcontent-%COMP%]{flex:1;background:var(--ion-color-primary);display:flex;align-items:center;justify-content:center;padding:var(--spacing-2xl);min-height:100vh}@media (max-width: 1024px){.left-section[_ngcontent-%COMP%]{display:none}}.brand-container[_ngcontent-%COMP%]{text-align:center;max-width:400px}.brand-logo[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:var(--spacing-xl);background:var(--ion-white-color-background);border-radius:var(--border-radius-xl);padding:var(--spacing-md);box-shadow:0 8px 32px #0000001a}.brand-title[_ngcontent-%COMP%]{font-size:var(--font-size-11xl);font-weight:var(--font-weight-bold);color:var(--ion-white-color-text);margin:0 0 var(--spacing-md)}.brand-text[_ngcontent-%COMP%]{font-size:var(--font-size-xl);color:var(--ion-white-color-text);margin:0}.right-section[_ngcontent-%COMP%]{flex:1;display:flex;height:100vh;overflow:hidden}.scrollable-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--spacing-lg);min-height:0}.form-container[_ngcontent-%COMP%]{max-width:400px;width:100%;margin:0 auto;min-height:calc(100vh - 2 * var(--spacing-lg));display:flex;flex-direction:column;justify-content:center}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacing-md);display:block}@media (min-width: 1024px){.logo-section[_ngcontent-%COMP%]{display:none}}.logo-circle[_ngcontent-%COMP%]{width:60px;height:60px;background:var(--ion-white-color-background);border-radius:var(--border-radius-lg);display:flex;align-items:center;justify-content:center;margin:0 auto var(--spacing-md);box-shadow:0 4px 16px #0000001a}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px}.app-title[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);margin:0}.form-title[_ngcontent-%COMP%]{font-size:var(--font-size-5xl);font-weight:var(--font-weight-bold);margin:0 0 var(--spacing-xs);text-align:center}.form-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:0 0 var(--spacing-xl);font-size:var(--font-size-base);text-align:center}.signup-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md)}.error-item[_ngcontent-%COMP%]{--border-color: var(--ion-color-danger) !important;--color: var(--ion-color-danger)}.error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:var(--font-size-sm);margin-top:-8px;margin-bottom:var(--spacing-md);padding-left:var(--spacing-md)}.signup-floating-icons-left[_ngcontent-%COMP%]{position:absolute;top:18px;inset-inline-start:12px;z-index:999;color:var(--ion-text-color)}.signup-floating-icons-right[_ngcontent-%COMP%]{position:absolute;top:18px;inset-inline-end:16px;z-index:999;color:var(--ion-text-color)}.login-section[_ngcontent-%COMP%]{text-align:center;margin-top:var(--spacing-md)}.login-text[_ngcontent-%COMP%]{font-size:var(--font-size-md);margin:0}.login-link[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:var(--font-weight-semibold);cursor:pointer;text-decoration:none}.login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.alternative-signup[_ngcontent-%COMP%]{margin-top:var(--spacing-md)}.alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:var(--spacing-md)}.alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:var(--ion-color-medium)}.alternative-signup[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .divider-text[_ngcontent-%COMP%]{padding:0 var(--spacing-md);color:var(--ion-color-medium);font-size:var(--font-size-md);white-space:nowrap}.alternative-signup[_ngcontent-%COMP%]   .sso-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:var(--spacing-md)}.alternative-signup[_ngcontent-%COMP%]   .sso-buttons[_ngcontent-%COMP%]   .sso-icon-button[_ngcontent-%COMP%]{width:40px;height:40px;--border-radius: 50%;--border-color: var(--ion-text-color);--border-width: 1px;--color: var(--ion-text-color);--padding-start: 0;--padding-end: 0}.alternative-signup[_ngcontent-%COMP%]   .sso-buttons[_ngcontent-%COMP%]   .sso-icon-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px}']});let C=u;return C})();export{_e as SignupPage};

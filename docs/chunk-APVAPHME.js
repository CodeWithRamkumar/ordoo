import{D as u,M as l,O as b,Q as v,a as i,u as d}from"./chunk-UC7FKJIZ.js";function j(e){e||(e=u(b));let o=new i(t=>{if(e.destroyed){t.next();return}return e.onDestroy(t.next.bind(t))});return t=>t.pipe(d(o))}function M(e){e===void 0&&(e=u(l));let o=e.get(v);return t=>new i(n=>{let f=o.add(),c=!1;function r(){c||(f(),c=!0)}let a=t.subscribe({next:s=>{n.next(s),r()},complete:()=>{n.complete(),r()},error:s=>{n.error(s),r()}});return a.add(()=>{n.unsubscribe(),r()}),a})}export{j as a,M as b};
